To achieve reliable and timely data synchronization between the portal and the core banking system, we will:

1. Implement a service to synchronize data between the portal and the core banking system.
2. Create endpoints to trigger and manage data synchronization.
3. Ensure that the synchronization process is secure and handles data consistently.

Epic Title: Core Banking System Integration

Given the folder structure and user story, we will:
1. Implement a synchronization service.
2. Create endpoints to trigger the synchronization.
3. Implement additional logic to handle the synchronization process.

Let's proceed with the implementation:

##### FILE 1
**

# Epic Title: Core Banking System Integration

import requests
from requests.auth import HTTPBasicAuth
from backend.models.core_banking import CoreBankingData, db

class SyncService:
    def __init__(self, api_base_url: str, username: str, password: str):
        self.api_base_url = api_base_url
        self.auth = HTTPBasicAuth(username, password)

    def fetch_and_sync_data(self):
        try:
            endpoint = f"{self.api_base_url}/data-endpoint"
            response = requests.get(endpoint, auth=self.auth)
            response.raise_for_status()
            data = response.json()

            for item in data:
                existing_record = CoreBankingData.query.filter_by(id=item['id']).first()
                if existing_record:
                    for key, value in item.items():
                        setattr(existing_record, key, value)
                else:
                    new_record = CoreBankingData(**item)
                    db.session.add(new_record)
            
            db.session.commit()
            return data
        except Exception as e:
            print(f"Error during synchronization: {e}")
            return None

##### FILE 2
**Path: backend/integration/controllers/sync_controller.py**

# Epic Title: Core Banking System Integration

from flask import Blueprint, jsonify
from flask_jwt_extended import jwt_required
from backend.integration.services.sync_service import SyncService

sync_blueprint = Blueprint('sync', __name__)
sync_service = None  # Will be initialized in app.py

@sync_blueprint.route('/sync-data', methods=['POST'])
@jwt_required()
def sync_data():
    result = sync_service.fetch_and_sync_data()
    if result:
        return jsonify({"message": "Data synchronized successfully."}), 200
    else:
        return jsonify({"error": "Data synchronization failed."}), 500

##### FILE 3
**Path: backend/integration/routes.py**

# Epic Title: Core Banking System Integration

from backend.integration.controllers.sync_controller import sync_blueprint

def register_integration_routes(app, sync_service_instance):
    global sync_service
    sync_service = sync_service_instance
    app.register_blueprint(sync_blueprint, url_prefix='/api')

##### FILE 4
**Path: backend/models/core_banking.py**

# Epic Title: Core Banking System Integration

from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class CoreBankingData(db.Model):
    __tablename__ = "core_banking_data"

    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(255), nullable=False)
    value = db.Column(db.String(255), nullable=False)
    updated_at = db.Column(db.DateTime)

    def __repr__(self):
        return f"<CoreBankingData {self.id}>"

##### FILE 5
**Path: backend/static/js/main.js**

// Epic Title: Core Banking System Integration

document.addEventListener('DOMContentLoaded', function () {
    console.log('JavaScript loaded successfully!');

    function syncData() {
        fetch('/api/sync-data', {
            method: 'POST',
            headers: {
                'x-access-token': localStorage.getItem('access_token')
            }
        })
        .then(response => response.json())
        .then(data => {
            console.log('Data synchronized:', data);
            alert('Data synchronized successfully!');
        })
        .catch(error => console.error('Error synchronizing data:', error));
    }

    // Attach sync data function to a button click event
    document.getElementById('sync-data-button').addEventListener('click', syncData);
});

##### FILE 6
**Path: backend/templates/index.html**

<!-- Epic Title: Core Banking System Integration -->

{% extends "base.html" %}

{% block title %}
Home - My Portal
{% endblock %}

{% block content %}
<h2>Welcome to My Portal</h2>
<p>This portal integrates securely with the core banking system.</p>
<button id="sync-data-button">Sync Data</button>
{% endblock %}

##### FILE 7
**Path: backend/templates/base.html**

<!-- Epic Title: Core Banking System Integration -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% block title %}My Portal{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
    <header>
        <h1>My Portal</h1>
    </header>
    <nav>
        <ul>
            <li><a href="{{ url_for('index') }}">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
    </nav>
    <main>
        {% block content %}
        {% endblock %}
    </main>
    <footer>
        <p>&copy; {{ current_year }} My Portal</p>
    </footer>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>

##### FILE 8
**Path: backend/database/038_create_core_banking_data_table.sql**

-- Epic Title: Core Banking System Integration

CREATE TABLE core_banking_data (
    id INT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL,
    updated_at TIMESTAMP
);

##### FILE 9
**Path: app.py**

# Epic Title: Core Banking System Integration

from datetime import datetime, timedelta
from flask import Flask, render_template
from flask_sqlalchemy import SQLAlchemy
from flask_jwt_extended import JWTManager
from flask_socketio import SocketIO
from requests.auth import HTTPBasicAuth
from backend.integration.routes import register_integration_routes
from backend.authentication.routes import register_auth_routes
from backend.authentication.services.mfa_service import MFAService
from backend.dashboard.routes import register_dashboard_routes
from backend.dashboard.services import DashboardService
from backend.account.routes.opening import register_account_opening_routes
from backend.account.services.opening_request_service import OpeningRequestService
from backend.account.routes.service_modifications import register_service_modification_routes
from backend.account.services.service_modification_service import ServiceModificationService
from backend.approval_workflow.routes import register_approval_workflow_routes
from backend.approval_workflow.services import ApprovalService
from backend.history.routes import register_history_routes
from backend.status.routes import register_status_routes
from backend.documents.routes import register_document_routes
from backend.applications.routes import register_application_routes
from backend.documents.services.document_service import DocumentService
from backend.integration.services.sync_service import SyncService
from backend.status.models.request_status import RequestStatus
from backend.status.services.email_service import EmailService
from backend.status.services.notification_service import NotificationService
from backend.history.services.interaction_service import InteractionService
from backend.applications.services.application_service import ApplicationService
from backend.authentication.models import User

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://user:password@localhost/mydatabase'
app.config['JWT_SECRET_KEY'] = 'super-secret'
app.config['JWT_ACCESS_TOKEN_EXPIRES'] = timedelta(minutes=15)
app.config['JWT_REFRESH_TOKEN_EXPIRES'] = timedelta(days=30)
app.config['JWT_TOKEN_LOCATION'] = ['cookies']
app.config['JWT_COOKIE_CSRF_PROTECT'] = True
app.config['UPLOAD_FOLDER'] = '/path/to/upload/folder'
app.config['CORE_BANKING_BASE_URL'] = 'https://corebanking.example.com/api'
app.config['CORE_BANKING_USERNAME'] = 'api_user'
app.config['CORE_BANKING_PASSWORD'] = 'secure_password'
app.config['SMTP_SERVER'] = 'smtp.example.com'
app.config['SMTP_PORT'] = 587
app.config['SMTP_USERNAME'] = 'your-email@example.com'
app.config['SMTP_PASSWORD'] = 'your-email-password'

db = SQLAlchemy(app)
jwt = JWTManager(app)
socketio = SocketIO(app, cors_allowed_origins="*")

auth = HTTPBasicAuth(app.config['CORE_BANKING_USERNAME'], app.config['CORE_BANKING_PASSWORD'])

mfa_service = MFAService(db)
dashboard_service = DashboardService(db)
opening_request_service = OpeningRequestService(db)
service_modification_service = ServiceModificationService(db)
approval_service = ApprovalService(db)
email_service = EmailService(app.config['SMTP_SERVER'], app.config['SMTP_PORT'], app.config['SMTP_USERNAME'], app.config['SMTP_PASSWORD'])
notification_service = NotificationService(db)
interaction_service = InteractionService()
document_service = DocumentService(app.config['UPLOAD_FOLDER'])
application_service = ApplicationService()
sync_service = SyncService(app.config['CORE_BANKING_BASE_URL'], app.config['CORE_BANKING_USERNAME'], app.config['CORE_BANKING_PASSWORD'])

@app.route('/')
def index():
    return render_template('index.html', current_year=datetime.now().year)

register_auth_routes(app, db, mfa_service)
register_dashboard_routes(app, dashboard_service)
register_account_opening_routes(app, opening_request_service)
register_service_modification_routes(app, service_modification_service)
register_approval_workflow_routes(app, approval_service)
register_history_routes(app)
register_status_routes(app, email_service, notification_service)
register_document_routes(app, document_service)
register_application_routes(app)
register_integration_routes(app, sync_service)

if __name__ == '__main__':
    import logging
    logging.basicConfig(level=logging.INFO)
    socketio.run(app, debug=True)

##### FILE 10
**Path: requirements.txt**

flask==2.0.2
flask_sqlalchemy==2.5.1
werkzeug==2.0.2
mysqlclient==2.1.0
flask_jwt_extended==4.3.1
flask_socketio==5.0.1
python-socketio==5.3.0
eventlet==0.31.0
requests==2.26.0
requests-auth==0.5.0
pyotp==2.5.0
bcrypt==3.2.0

In this implementation, we have created a synchronization service (`SyncService`) to fetch and sync data between the portal and the core banking system. The service is exposed through a secure API endpoint, which can be triggered manually. The synchronized data is stored in the `CoreBankingData` table. The front-end includes a button to trigger synchronization, ensuring the process is user-initiated and monitored. The database schema is updated to include the necessary table for storing core banking data.